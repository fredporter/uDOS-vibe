# uDOS v1.4.5 +Vibe

```
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
‚ñà‚ñà                                                        ‚ñà‚ñà
‚ñà‚ñà   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà
‚ñà‚ñà   ‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà      ‚ñà‚ñà‚ñà      ‚ñà‚ñà‚ñà       ‚ñà‚ñà‚ñà       ‚ñà‚ñà   ‚ñà‚ñà
‚ñà‚ñà   ‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà
‚ñà‚ñà   ‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà      ‚ñà‚ñà‚ñà   ‚ñà‚ñà
‚ñà‚ñà   ‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà
‚ñà‚ñà   ‚ñà‚ñà‚ñà      ‚ñà‚ñà‚ñà‚ñà      ‚ñà‚ñà‚ñà      ‚ñà‚ñà‚ñà       ‚ñà‚ñà‚ñà       ‚ñà‚ñà   ‚ñà‚ñà
‚ñà‚ñà   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà
‚ñà‚ñà   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà
‚ñà‚ñà   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  uDOS v1.4.5  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà
‚ñà‚ñà   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà
‚ñà‚ñà                                                        ‚ñà‚ñà
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
```

[![Python 3.12+](https://img.shields.io/badge/python-3.12%2B-blue)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/license-Apache%202.0-green)](LICENSE)
[![uv](https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/astral-sh/uv/main/assets/badge/v0.json)](https://github.com/astral-sh/uv)

</div>

## What is This?

**uDOS v1.4.5 +Vibe** is an integrated development environment combining:

- **vibe-cli runtime** ‚Äî Open-source CLI coding assistant with tool execution and subagents
- **uDOS** ‚Äî Offline-first OS layer for vault workflows, knowledge systems, and portable tooling
- **Wizard** ‚Äî LAN gateway for extensions, AI routing, and sync

This repository brings together uDOS's extensive command suite (50+ tools) and knowledge system with vibe-cli agent capabilities, without forking Vibe.

### Key Differences from Stock Vibe

| Feature | Stock Vibe | uDOS v1.4.5 +Vibe |
|---------|-----------|------------|
| Installation | Global `vibe` via official installer | Clone repo + `uv venv venv` + `uv sync --extra udos-wizard` |
| Commands | Read/write/bash/git tools | uDOS suite (50+) + Vibe tools |
| Workspace | Project folder | Project + vault + memory + Obsidian |
| Knowledge | Code only | Markdown vault (offline) |
| Extensibility | Skills/MCP | Skills + uDOS Wizard server |
| Setup | Interactive key entry | Auto-generates identity + keys |

> [!WARNING]
> vibe-cli works on Windows, but we officially support and target UNIX environments.

---

## Quick Start

### Prerequisites
- Python 3.12+
- Git
- macOS or Linux (Ubuntu/Alpine recommended)

### Installation

**Option 1: Automated installer (recommended)**

macOS:
```bash
# Clone the repository
git clone https://github.com/fredporter/uDOS-vibe.git
cd uDOS-vibe

# Run installer (double-click in Finder, or from terminal)
./bin/install-udos-vibe.sh
```

Linux:
```bash
# Clone the repository
git clone https://github.com/fredporter/uDOS-vibe.git
cd uDOS-vibe

# Run installer
./bin/install-udos-vibe.sh
```

The installer automatically handles:
- ‚úì uv package manager installation
- ‚úì Environment configuration (.env)
- ‚úì Vibe CLI installation
- ‚úì Vault structure setup
- ‚úì Optional components (micro, Obsidian, Ollama)

**Option 2: Manual installation**

```bash
# Clone and navigate
git clone https://github.com/fredporter/uDOS-vibe.git
cd uDOS-vibe

# Install uv if not present
curl -LsSf https://astral.sh/uv/install.sh | sh

# Install uDOS v1.4.5 +Vibe
uv sync --extra udos-wizard

# Copy and configure .env
cp .env.example .env
# Edit `.env` with your provider key settings

# Run setup story
uv run ./uDOS.py SETUP
```

üìö **Full installation guide**: [docs/INSTALLATION.md](docs/INSTALLATION.md)

### First Commands

After installation:

```bash
# Start vibe CLI
vibe

# Or with explicit repo context
cd /path/to/uDOS-vibe && vibe
```

Inside vibe:
```
SETUP          # Complete user configuration
STATUS         # Check system health
HELP           # List available commands
WIZARD start   # Launch web server (optional)
```

**Example flow:**
```
> vibe
Welcome to vibe-cli + uDOS

You: Read the file @core/commands/help.py and explain what it does
ü§ñ: [reads file, explains using agent]

You: Create a new uDOS skill for markdown validation
ü§ñ: [scaffolds skill in vibe/core/skills/ucode/]

You: /list-skills
ü§ñ: Available skills: code-review, markdown-*
```

## Project Structure

```
uDOS-vibe/
‚îú‚îÄ‚îÄ vibe/                          # vibe-cli runtime (read-only base)
‚îÇ   ‚îú‚îÄ‚îÄ cli/                       # Entry point
‚îÇ   ‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tools/                 # Built-in tools
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ucode/             # uDOS tools (addon)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ skills/                # Built-in skills
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ ucode/             # uDOS skills (addon)
‚îÇ   ‚îî‚îÄ‚îÄ ...vibe/
‚îÇ
‚îú‚îÄ‚îÄ core/                          # uDOS core (runtime, framework)
‚îÇ   ‚îú‚îÄ‚îÄ commands/                  # Command handlers (50+)
‚îÇ   ‚îú‚îÄ‚îÄ framework/                 # Service framework
‚îÇ   ‚îú‚îÄ‚îÄ memory/                    # In-memory data structures
‚îÇ   ‚îú‚îÄ‚îÄ parsers/                   # Config/spec parsing
‚îÇ   ‚îî‚îÄ‚îÄ tests/
‚îÇ
‚îú‚îÄ‚îÄ wizard/                        # Wizard API gateway
‚îÇ   ‚îú‚îÄ‚îÄ mcp_server.py              # MCP interface
‚îÇ   ‚îú‚îÄ‚îÄ services/                  # Web/routing services
‚îÇ   ‚îî‚îÄ‚îÄ tests/
‚îÇ
‚îú‚îÄ‚îÄ docs/                          # Development documentation
‚îÇ   ‚îú‚îÄ‚îÄ ARCHITECTURE.md            # Addon model, non-fork strategy
‚îÇ   ‚îú‚îÄ‚îÄ INTEGRATION-READINESS.md   # Audit results
‚îÇ   ‚îú‚îÄ‚îÄ roadmap.md                 # Active milestone and execution plan
‚îÇ   ‚îú‚îÄ‚îÄ specs/                     # Format/interface specs
‚îÇ   ‚îú‚îÄ‚îÄ howto/                     # Procedures and guides
‚îÇ   ‚îî‚îÄ‚îÄ decisions/                 # ADRs and design decisions
‚îÇ
‚îú‚îÄ‚îÄ tests/                         # Test suite
‚îú‚îÄ‚îÄ ext/                           # Extensions / plugins
‚îú‚îÄ‚îÄ memory/                        # Runtime state (git-ignored)
‚îú‚îÄ‚îÄ vault/                         # Knowledge vault (git-template)
‚îú‚îÄ‚îÄ wiki/                          # User documentation
‚îÇ
‚îú‚îÄ‚îÄ .vibe/config.toml              # Vibe integration config
‚îú‚îÄ‚îÄ .env.example                   # Environment template
‚îú‚îÄ‚îÄ pyproject.toml                 # Root deps (Vibe + uDOS)
‚îî‚îÄ‚îÄ uDOS.py                        # Command dispatcher
```

### Key Files

**`.vibe/config.toml`**
- Integration point for Vibe
- Declares uDOS tool/skill paths
- MCP server configs
- Auto-discovered on startup

**`pyproject.toml`**
- Project metadata
- Vibe + uDOS dependencies
- Optional groups: `[udos]`, `[udos-wizard]`, `[udos-full]`

**`core/commands/`**
- 50+ command implementations
- CommandDispatcher router
- Test fixtures

**`vibe/core/tools/ucode/` & `vibe/core/skills/ucode/`**
- Addon modules managed by this repo overlay
- Custom tools/skills for uDOS
- Safely coexist with Vibe built-ins

---

## Comprehensive Documentation

Start here:
- **New to the project?** ‚Üí [Getting Started](docs/dev/GETTING-STARTED.md)
- **Architecture & design** ‚Üí [Architecture Guide](docs/ARCHITECTURE.md)
- **Integration strategy** ‚Üí [Integration Readiness](docs/INTEGRATION-READINESS.md)
- **Current execution plan** ‚Üí [Roadmap](docs/roadmap.md)

By category:
- **Development** ‚Äî [docs/dev/](docs/dev/) ‚Äî Setup, building, testing
- **Design** ‚Äî [docs/decisions/](docs/decisions/) ‚Äî ADRs, rationale
- **Specs** ‚Äî [docs/specs/](docs/specs/) ‚Äî Formats, schemas, contracts
- **Procedures** ‚Äî [docs/howto/](docs/howto/) ‚Äî Step-by-step guides
- **User Guide** ‚Äî [wiki/](wiki/Home.md) ‚Äî End-user documentation

### Documentation Index

- `docs/ARCHITECTURE.md` ‚Äî How uDOS+Vibe integration works (non-fork model)
- `docs/AUDIT-RESOLUTION.md` ‚Äî Pre-Phase-A readiness audit results
- `docs/INTEGRATION-READINESS.md` ‚Äî Project prerequisites and validation
- `docs/PHASE-A-QUICKREF.md` ‚Äî Developer quick reference for building tools
- `docs/roadmap.md` ‚Äî Active milestone and release readiness checklist
- `docs/specs/` ‚Äî Format specifications and contracts
- `docs/decisions/` ‚Äî Architecture decision records
- `wiki/Home.md` ‚Äî User guides and getting-started docs

---

## Installation & Setup

### System Requirements

- **Python**: 3.12+ (required)
- **OS**: macOS, Linux, Windows (officially supported on UNIX)
- **Terminal**: Modern emulator recommended (WezTerm, Alacritty, Ghostty, Kitty)

### Installation Methods

#### 1. From Source (Recommended)

```bash
git clone https://github.com/fredporter/uDOS-vibe.git
cd uDOS-vibe

# Install with uv (recommended)
uv sync --extra udos-wizard
```

#### 2. Quick Dev Setup

```bash
# Copy the workspace config
cp vibe-dev.code-workspace uDOS-vibe.code-workspace

# Open in VS Code
code uDOS-vibe.code-workspace

# Terminal will auto-activate venv and set uDOS env vars
```

### Configuration

On first run, Vibe will prompt for your AI provider API key. It is securely saved to `~/.vibe/.env`.

Alternatively, configure via environment:
```bash
export AI_API_KEY="your-key-here"
```

Or manually create `~/.vibe/.env`:
```ini
AI_API_KEY=your-key-here
AI_API_BASE_URL=https://your-provider.example/v1
```

### Environment Setup

Optional environment variables (see `.env.example`):

```bash
# uDOS settings
UDOS_ROOT=/path/to/uDOS-vibe
UDOS_MEMORY=/path/to/memory
UDOS_VAULT=/path/to/vault

# Wizard server
UDOS_WIZARD_PORT=8000
UDOS_WIZARD_HOST=0.0.0.0
UDOS_WIZARD_KEY="auto-generated-on-setup"

# AI provider API
AI_API_KEY="your-api-key"
```

### Minimum Spec (vibe-cli + uCode Addon)

| Component | Requirement |
|---------|-------------|
| OS | Linux/macOS/Windows 10+ (x86/ARM) |
| CPU | 2 cores (x86/ARM) |
| RAM | 4 GB |
| Storage | 5 GB free (SSD recommended) |
| Network | Optional (online/offline pathways supported) |
| Dependencies | Python 3.8+, vibe-cli, uCode addon |

Operational pathways:
- `With network`: `UCODE` + cloud provider fallback + full command/docs surface.
- `Without network`: `UCODE` + local demo/docs/system-introspection fallback.

See full brief: [`docs/specs/MINIMUM-SPEC-VIBE-CLI-UCODE.md`](docs/specs/MINIMUM-SPEC-VIBE-CLI-UCODE.md).

## Features

### Vibe Features

- **Interactive Chat**: A conversational AI agent that understands your requests
- **Powerful Tools**: Read/write/patch files, execute shell commands, search code, manage todos
- **Project-Aware**: Scans file structure and Git status for context
- **Multiple Agents**: Default, plan, accept-edits, auto-approve profiles
- **Subagents**: Delegate work for parallel processing
- **Skills System**: Extend with custom skills and slash commands
- **MCP Support**: Model Context Protocol servers for additional tools
- **Highly Configurable**: Customize via `~/.vibe/config.toml`

### uDOS Features

- **50+ Commands**: Extensive CLI command suite
- **Vault-Based**: Offline Obsidian-compatible knowledge system
- **Auto-Setup**: Identity + API key auto-generation
- **Self-Healing**: SETUP, REPAIR, SEED commands
- **Wizard Server**: LAN gateway and extension routing
- **Non-Fork**: Addon architecture integrates with Vibe without divergence

---

## Usage

### Interactive Mode

```bash
# Start Vibe
vibe

# Reference files with @
> Read the file @src/main.py

# Use shell commands (prefix with !)
> !ls -la src/

# Create todo items
> Add item to todo: "Refactor authentication"

# Delegate to subagents
> task(task="Explore the codebase", agent="explore")
```

### Non-Interactive / Scripting

```bash
# Single prompt
vibe --prompt "Refactor the main function"

# With specific tools
vibe --enabled-tools "bash*,read_file" --prompt "List files in src/"

# With cost limit
vibe --max-price 2.0 --prompt "Analyze security"

# Output as JSON
vibe --output json --prompt "Check structure"
```

### Command Reference

**Core commands** (handled by uDOS CommandDispatcher):
- `STATUS` ‚Äî Show system status
- `SETUP` ‚Äî Initialize identity + keys
- `REPAIR` ‚Äî Check/fix configuration
- `HELP` ‚Äî Get command help
- `WIZARD start` ‚Äî Launch Wizard server

See [docs/howto/UCODE-COMMAND-REFERENCE.md](docs/howto/UCODE-COMMAND-REFERENCE.md) for complete command list.

### Keyboard Shortcuts

- **`Ctrl+J` / `Shift+Enter`** ‚Äî Multi-line input
- **`Ctrl+G`** ‚Äî Edit input in external editor
- **`Ctrl+O`** ‚Äî Toggle tool output
- **`Ctrl+T`** ‚Äî Toggle todo list
- **`Shift+Tab`** ‚Äî Toggle auto-approve
- **`/`** ‚Äî Slash commands
- **`@`** ‚Äî File path autocompletion

---

## Development

### Running Tests

```bash
# Run all tests
uv run pytest tests/

# With coverage
uv run pytest tests/ --cov=core --cov=wizard

# Specific test
uv run pytest tests/core/test_commands.py::test_help_handler
```

### Running Linters

```bash
# Format code
uv run ruff format core/ wizard/ tests/

# Check types
uv run pyright core/ wizard/

# Lint
uv run ruff check --fix core/ wizard/
```

### Building Extensions

Tools and Skills are scaffolded in:
- `vibe/core/tools/ucode/*.py` ‚Äî Tool implementations
- `vibe/core/skills/ucode/*.md` ‚Äî Skill definitions

See [docs/PHASE-A-QUICKREF.md](docs/PHASE-A-QUICKREF.md) for scaffolding templates.

### Debugging

```bash
# Enable debug logging
export DEBUG=1
export LOG_LEVEL=debug
vibe --prompt "test"

# Attach debugger
uv run debugpy -- bin/vibe SETUP
```

---

## Contributing

We welcome contributions! Please see:

- [CONTRIBUTING.md](CONTRIBUTING.md) ‚Äî Guidelines
- [CODE_OF_CONDUCT.md](CODE_OF_CONDUCT.md) ‚Äî Community standards
- [docs/decisions/](docs/decisions/) ‚Äî Design rationale
- [AGENTS.md](AGENTS.md) ‚Äî Development agents & patterns

---

## Architecture & Design

### Non-Fork Integration Model

uDOS integrates with Vibe *without* forking:

- **Vibe core** (`vibe/*`): treated as external runtime surface; local extensions stay isolated
- **Addon code**: Lives in `vibe/core/tools/ucode/` and `vibe/core/skills/ucode/`
- **Integration**: Declared in `.vibe/config.toml` (committed, under our control)
- **Isolation**: All uDOS logic lives in `core/`, `wizard/`, `tests/`

When Vibe releases an update, this repo remains an overlay for ucode tools/skills and Wizard integration while preserving local command contracts.

### Key Components

**CommandDispatcher** ‚Äî Router for 50+ uDOS commands
**Wizard** ‚Äî MCP server + LAN gateway
**ToolManager/SkillManager** ‚Äî Vibe's tool/skill discovery system
**Framework** ‚Äî Service layer, memory, parsers

See [docs/ARCHITECTURE.md](docs/ARCHITECTURE.md) for comprehensive design guide.

---

## Troubleshooting

**Vibe not finding uDOS tools?**
```bash
# Check tool discovery
uv run python -c "from vibe.core.tools.tool_manager import ToolManager; print(ToolManager().resolve_local_tools_dir('vibe/core/tools/ucode'))"

# Verify config
cat .vibe/config.toml
```

**AI provider API errors?**
```bash
# Check API key
echo $AI_API_KEY

# Test connectivity
vibe --prompt "What version are you?"
```

**Python venv issues?**
```bash
# Reinstall venv
rm -rf venv
uv sync --extra udos-wizard
```

See [docs/troubleshooting/](docs/troubleshooting/) for more.

---

## Resources

- **uDOS v1.4.5 +Vibe** ‚Äî https://github.com/fredporter/uDOS-vibe
- **MCP Spec** ‚Äî https://modelcontextprotocol.io
- **Credits** ‚Äî [wiki/credits.md](wiki/credits.md)
- **Agent Skills** ‚Äî https://agentskills.io

---

## License

This project integrates vibe-cli runtime components and uDOS (Apache 2.0).

All code is licensed under the Apache License, Version 2.0. See [LICENSE](LICENSE) for details.

---

## Data & Privacy

Vibe can send code and conversations to your configured AI provider endpoint.
- Review your provider's privacy policy and data terms.
- Disable telemetry: `enable_telemetry = false` in `~/.vibe/config.toml`

uDOS stores runtime data locally in `memory/` (git-ignored).

---

<div align="center">

**Questions?** Open an issue or visit [wiki/Home.md](wiki/Home.md)

Made with ‚ù§Ô∏è for developers who want AI + local knowledge

</div>
