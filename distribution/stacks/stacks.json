{
  "$schema": "../schemas/stacks.schema.json",
  "version": "1.0.0",
  "description": "uDOS Distribution Stack Definitions",
  "updated": "2026-01-05",
  "stacks": {
    "ultra": {
      "id": "ultra",
      "name": "Ultra",
      "description": "Minimal core system with zero external dependencies",
      "size_mb": 8,
      "components": ["core"],
      "tcz_packages": ["udos-core.tcz"],
      "pip_extras": [],
      "features": {
        "core_system": true,
        "basic_commands": true,
        "upy_runtime": true,
        "offline_operation": true,
        "knowledge_base": false,
        "ai_assistant": false,
        "graphics": false,
        "gameplay": false,
        "cloud": false,
        "transport": false
      },
      "requires": {
        "python": ">=3.8",
        "storage_mb": 8,
        "internet": false
      },
      "best_for": [
        "Embedded systems",
        "Extreme storage constraints",
        "Custom knowledge integration",
        "Development/testing"
      ]
    },
    "lite": {
      "id": "lite",
      "name": "Lite",
      "description": "Core + Knowledge base (230+ survival guides) - DEFAULT",
      "size_mb": 16,
      "components": ["core", "knowledge"],
      "tcz_packages": ["udos-core.tcz", "udos-knowledge.tcz"],
      "pip_extras": [],
      "features": {
        "core_system": true,
        "basic_commands": true,
        "upy_runtime": true,
        "offline_operation": true,
        "knowledge_base": true,
        "ai_assistant": false,
        "graphics": false,
        "gameplay": false,
        "cloud": false,
        "transport": false
      },
      "requires": {
        "python": ">=3.8",
        "storage_mb": 16,
        "internet": false
      },
      "best_for": [
        "Offline survival preparation",
        "Minimal bandwidth/storage",
        "Quick installation",
        "Embedded/portable systems"
      ],
      "default": true
    },
    "standard": {
      "id": "standard",
      "name": "Standard",
      "description": "Lite + AI-powered assistance",
      "size_mb": 28,
      "components": ["core", "knowledge", "ai"],
      "tcz_packages": ["udos-core.tcz", "udos-knowledge.tcz", "udos-ai.tcz"],
      "pip_extras": ["google-generativeai"],
      "features": {
        "core_system": true,
        "basic_commands": true,
        "upy_runtime": true,
        "offline_operation": true,
        "knowledge_base": true,
        "ai_assistant": true,
        "graphics": false,
        "gameplay": false,
        "cloud": false,
        "transport": false
      },
      "requires": {
        "python": ">=3.8",
        "storage_mb": 28,
        "internet": "optional",
        "api_keys": ["GEMINI_API_KEY (optional)"]
      },
      "best_for": [
        "Content generation",
        "AI-assisted workflows",
        "Documentation automation",
        "Learning/exploration"
      ]
    },
    "full": {
      "id": "full",
      "name": "Full",
      "description": "Complete system including gameplay, graphics, and transports",
      "size_mb": 58,
      "components": ["core", "knowledge", "ai", "graphics", "gameplay", "transport"],
      "tcz_packages": [
        "udos-core.tcz",
        "udos-knowledge.tcz",
        "udos-ai.tcz",
        "udos-graphics.tcz",
        "udos-gameplay.tcz",
        "udos-transport.tcz"
      ],
      "pip_extras": ["google-generativeai", "pillow", "qrcode", "pyzbar", "pyaudio"],
      "features": {
        "core_system": true,
        "basic_commands": true,
        "upy_runtime": true,
        "offline_operation": true,
        "knowledge_base": true,
        "ai_assistant": true,
        "graphics": true,
        "gameplay": true,
        "cloud": false,
        "transport": true
      },
      "requires": {
        "python": ">=3.8",
        "storage_mb": 58,
        "internet": "optional",
        "api_keys": ["GEMINI_API_KEY (optional)"],
        "system_deps": ["portaudio", "zbar"]
      },
      "best_for": [
        "Complete uDOS experience",
        "Adventure/quest modes",
        "Custom graphics",
        "Mesh networking scenarios",
        "QR/Audio transports"
      ]
    },
    "enterprise": {
      "id": "enterprise",
      "name": "Enterprise",
      "description": "Full system plus cloud sharing, analytics, and Wizard Server",
      "size_mb": 120,
      "components": ["core", "knowledge", "ai", "graphics", "gameplay", "transport", "cloud", "wizard"],
      "tcz_packages": [
        "udos-core.tcz",
        "udos-knowledge.tcz",
        "udos-ai.tcz",
        "udos-graphics.tcz",
        "udos-gameplay.tcz",
        "udos-transport.tcz",
        "udos-cloud.tcz",
        "udos-wizard.tcz"
      ],
      "pip_extras": [
        "google-generativeai",
        "pillow",
        "qrcode",
        "pyzbar",
        "pyaudio",
        "fastapi",
        "uvicorn",
        "sqlalchemy",
        "fuzzywuzzy",
        "python-levenshtein",
        "google-auth",
        "google-api-python-client"
      ],
      "features": {
        "core_system": true,
        "basic_commands": true,
        "upy_runtime": true,
        "offline_operation": true,
        "knowledge_base": true,
        "ai_assistant": true,
        "graphics": true,
        "gameplay": true,
        "cloud": true,
        "transport": true,
        "wizard_server": true,
        "bizintel": true
      },
      "requires": {
        "python": ">=3.8",
        "storage_mb": 120,
        "internet": "required_for_cloud",
        "api_keys": [
          "GEMINI_API_KEY",
          "GOOGLE_CLOUD_CREDENTIALS"
        ],
        "system_deps": ["portaudio", "zbar"]
      },
      "best_for": [
        "Team collaboration",
        "Business intelligence",
        "Wizard Server deployments",
        "Multi-user scenarios",
        "Web proxy operations"
      ]
    },
    "wizard": {
      "id": "wizard",
      "name": "Wizard Server",
      "description": "Always-on server configuration for web access and device mesh gateway",
      "size_mb": 95,
      "components": ["core", "knowledge", "ai", "transport", "cloud", "wizard"],
      "tcz_packages": [
        "udos-core.tcz",
        "udos-knowledge.tcz",
        "udos-ai.tcz",
        "udos-transport.tcz",
        "udos-cloud.tcz",
        "udos-wizard.tcz"
      ],
      "pip_extras": [
        "google-generativeai",
        "fastapi",
        "uvicorn",
        "aiohttp",
        "beautifulsoup4",
        "google-auth",
        "google-api-python-client"
      ],
      "features": {
        "core_system": true,
        "basic_commands": true,
        "upy_runtime": true,
        "offline_operation": false,
        "knowledge_base": true,
        "ai_assistant": true,
        "graphics": false,
        "gameplay": false,
        "cloud": true,
        "transport": true,
        "wizard_server": true,
        "web_proxy": true,
        "gmail_relay": true,
        "plugin_factory": true
      },
      "requires": {
        "python": ">=3.8",
        "storage_mb": 95,
        "internet": "required",
        "api_keys": [
          "GEMINI_API_KEY",
          "GOOGLE_CLOUD_CREDENTIALS",
          "GMAIL_OAUTH_CREDENTIALS"
        ],
        "always_on": true
      },
      "best_for": [
        "Dedicated server deployments",
        "Device mesh gateway",
        "Web scraping proxy",
        "Gmail relay",
        "Plugin distribution"
      ],
      "realm": "wizard"
    },
    "mobile": {
      "id": "mobile",
      "name": "Mobile Console",
      "description": "Lightweight pairing client for mobile/tablet devices",
      "size_mb": 4,
      "components": ["console"],
      "tcz_packages": [],
      "app_package": "udos-console.apk",
      "features": {
        "core_system": false,
        "basic_commands": true,
        "upy_runtime": false,
        "offline_operation": true,
        "knowledge_base": false,
        "ai_assistant": false,
        "graphics": false,
        "gameplay": false,
        "cloud": false,
        "transport": true,
        "pairing": true,
        "view_only": true
      },
      "requires": {
        "platform": ["android", "ios"],
        "storage_mb": 4,
        "internet": false,
        "paired_device": true
      },
      "best_for": [
        "Mobile terminal access",
        "QR code scanning",
        "View-only workflows",
        "Device pairing"
      ],
      "realm": "user_mesh"
    }
  },
  "components": {
    "core": {
      "id": "core",
      "name": "Core System",
      "description": "TUI, uPY runtime, command system",
      "tcz": "udos-core.tcz",
      "size_mb": 8,
      "required": true
    },
    "knowledge": {
      "id": "knowledge",
      "name": "Knowledge Base",
      "description": "230+ survival guides in markdown",
      "tcz": "udos-knowledge.tcz",
      "size_mb": 8,
      "required": false
    },
    "ai": {
      "id": "ai",
      "name": "AI Assistant",
      "description": "Gemini-powered OK Assistant",
      "tcz": "udos-ai.tcz",
      "size_mb": 12,
      "required": false,
      "pip_deps": ["google-generativeai"]
    },
    "graphics": {
      "id": "graphics",
      "name": "Graphics & Fonts",
      "description": "Font library, ASCII art, Teletext rendering",
      "tcz": "udos-graphics.tcz",
      "size_mb": 11,
      "required": false,
      "pip_deps": ["pillow"]
    },
    "gameplay": {
      "id": "gameplay",
      "name": "Gameplay Extensions",
      "description": "XP system, map engine, quests",
      "tcz": "udos-gameplay.tcz",
      "size_mb": 19,
      "required": false
    },
    "transport": {
      "id": "transport",
      "name": "Private Transports",
      "description": "QR, Audio, MeshCore transports",
      "tcz": "udos-transport.tcz",
      "size_mb": 5,
      "required": false,
      "pip_deps": ["qrcode", "pyzbar", "pyaudio"],
      "system_deps": ["portaudio", "zbar"]
    },
    "cloud": {
      "id": "cloud",
      "name": "Cloud Extensions",
      "description": "Group management, sharing, tunneling",
      "tcz": "udos-cloud.tcz",
      "size_mb": 15,
      "required": false,
      "pip_deps": ["fastapi", "uvicorn", "sqlalchemy"]
    },
    "wizard": {
      "id": "wizard",
      "name": "Wizard Server",
      "description": "Web proxy, Gmail relay, plugin factory",
      "tcz": "udos-wizard.tcz",
      "size_mb": 8,
      "required": false,
      "pip_deps": ["aiohttp", "beautifulsoup4", "google-api-python-client"],
      "realm": "wizard"
    },
    "console": {
      "id": "console",
      "name": "Mobile Console",
      "description": "Lightweight pairing client",
      "app": "udos-console.apk",
      "size_mb": 4,
      "required": false
    }
  }
}
