# v1.3.21 Pre-3D Adapter Readiness Checklist

Status: frozen for v1.3.22 gate (2026-02-15)

This checklist is the release gate before enabling the first 3D world lens in v1.3.22.

## Contract and Identity

- [x] Canonical world/adapter contract is versioned and committed:
  - `core/config/world_adapter_contract_v1_3_21.json`
- [x] PlaceRef and chunk identity rules are explicit and machine-validated.
- [x] Event canonical types are fixed for map/gameplay loops.

## Dual-Lens Compatibility

- [x] Compatibility matrix exists for TUI map lens and external adapter lens:
  - `docs/specs/v1.3.21-DUAL-LENS-COMPAT-MATRIX.md`
- [x] Contract validator and tests enforce canonical event shape.
- [x] Gameplay ingestion path is shared for both lenses.
- [x] Elite lens capability tests validate container + adapter event parser behavior.
- [x] Cross-lens parity tests validate deterministic mission/progression side effects.

## Performance Budgets

- [x] Seed load budget measured and bounded.
- [x] Chunk resolve latency budget measured and bounded.
- [x] Map render throughput budget measured and bounded.
- [x] Automated budget check script committed:
  - `tools/ci/check_v1_3_21_adapter_readiness.py`
- [x] Mission objective manifest committed and enforced by readiness checks:
  - `core/config/v1_3_21_mission_objectives.json`

## Debug Rounds

- [x] Hardcoded absolute-path scanner integrated into CI readiness gate.
- [x] Deprecated/depreciated marker scan integrated into CI readiness gate.
- [x] Duplicate-function scan integrated into CI readiness gate.
- [x] Unused private-function heuristic report generated during readiness checks.

## Required Green Checks

Run all of the following before opening v1.3.22 work:

1. `python3 -m pytest core/tests/world_adapter_contract_v1_3_21_test.py`
2. `python3 tools/ci/check_v1_3_21_adapter_readiness.py`
3. `python3 -m pytest core/tests/v1_3_21_parity_gate_test.py wizard/tests/toybox_capability_matrix_test.py`
4. `python3 tools/ci/check_spatial_seed_catalog.py`

## Deferred to Round B

The following remain in v1.3.21 scope but are not part of this frozen pre-3D gate artifact set:
- deep UI/cockpit reskin details beyond adapter contract/capability parity.
- live operator gameplay session completion (outside automated CI harness).
