# v1.3.25 Contract Freeze, Release Automation, and Debug Round C Checklist

## Scope
Freeze the v1.3.x contract set before cutting v1.4 branches so contract drift cannot silently regress stable surfaces.

## Frozen Contract Baseline
- Baseline file: `tools/ci/baselines/v1_3_25_contract_freeze_manifest.json`
- Gate script: `tools/ci/check_v1_3_25_contract_freeze.py`

The baseline includes hash-locked contract artifacts across:
- core config contracts and mission objective manifests
- v1.3 contract/spec docs that define externally visible runtime and adapter behavior

## CI Gate
Run:

```bash
python3 tools/ci/check_v1_3_25_contract_freeze.py
```

Pass criteria:
- every contract path listed in the freeze manifest exists
- every file hash matches the frozen SHA256 in the manifest

Fail criteria:
- any missing contract file
- any hash drift in a frozen contract artifact

## Change Control
Allowed changes after freeze:
- additive v1.4-only artifacts under new versioned names
- non-contract implementation changes

Blocked changes after freeze (unless freeze manifest is intentionally revised with approval):
- in-place edits to v1.3.x frozen contract files
- deletion/rename of frozen contract files

## Milestone Exit for v1.3.25 Item 1
- [x] Freeze manifest committed.
- [x] Freeze gate script committed.
- [x] Contract freeze tests added.
- [x] Roadmap updated with completion status.

## Long-Run Soak (Event Ingestion + Map Tick Loops)
- Soak harness: `tools/bench/long_run_soak_v1_3_25.py`
- Gate script: `tools/ci/check_v1_3_25_long_run_soak.py`

Run:

```bash
python3 tools/ci/check_v1_3_25_long_run_soak.py --iterations 1200 --ingest-batch 128
```

Pass criteria:
- deterministic map loop emits expected event volume for `MAP_*` actions
- gameplay ingest cursor drains all emitted events
- gameplay progression metrics match exact emitted event counts

Fail criteria:
- ingest count mismatch
- metric mismatch for map enters/moves/inspects/interactions/completions/ticks
- ingest loop ends with dropped events

## Milestone Exit for v1.3.25 Item 2
- [x] Long-run soak harness committed.
- [x] CI gate script committed.
- [x] Soak verification test added.
- [x] Roadmap updated with completion status.

## Release Checklist Automation (Mission Objectives + Benchmark Budgets)
- Automation gate: `tools/ci/check_v1_3_25_release_checklist.py`
- Output report: `memory/reports/v1_3_25_release_checklist.json`

Run:

```bash
python3 tools/ci/check_v1_3_25_release_checklist.py
```

Pass criteria:
- mission-objective gate has no fail/error/blocker-open/contract-drift
- benchmark regression gate is within budget (no `fail`)

## Runtime Hardcoded Local Path Verification
- Runtime path gate: `tools/ci/check_v1_3_25_runtime_hardcoded_paths.py`
- Output report: `memory/reports/v1_3_25_runtime_hardcoded_paths.json`

Run:

```bash
python3 tools/ci/check_v1_3_25_runtime_hardcoded_paths.py
```

Pass criteria:
- no hardcoded local machine paths in runtime command/service/input/tui/routes code paths

## Debug Round C
- Dead-code sweep script: `tools/ci/check_v1_3_25_dead_code_sweep.py`
- Benchmark regression drill script: `tools/ci/check_v1_3_25_benchmark_regression_drill.py`
- Command/service consolidation: reduced repeated map-argument parsing in `core/commands/gameplay_handler.py`
- Dead-code cleanup: removed unused imports in:
  - `core/input/autocomplete.py`
  - `core/input/command_prompt.py`

Run:

```bash
python3 tools/ci/check_v1_3_25_dead_code_sweep.py
python3 tools/ci/check_v1_3_25_benchmark_regression_drill.py
```

## Milestone Exit for v1.3.25 Item 3/4 + Debug Round C
- [x] Release checklist automation committed.
- [x] Runtime hardcoded-path verification gate committed.
- [x] Dead-code sweep executed and report emitted.
- [x] Duplicate logic consolidated in command/service layer.
- [x] Benchmark regression drill verifies release gate block behavior.
