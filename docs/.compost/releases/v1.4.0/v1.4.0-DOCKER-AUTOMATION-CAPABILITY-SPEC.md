# v1.4.0 Docker Automation and Capability Spec

## Purpose
Define the container capability contract and release automation gates required before finalizing the v1.4.0 GitHub version release.

## Scope
- Docker/container readiness for Sonic and Songscribe/Groovebox lanes
- Compose profile integrity across required profile sets
- Capability matrix validation for container-backed lanes
- Automated release preflight aggregation

## Capability Contract Source
- Matrix file: `core/config/v1_4_0_container_capability_matrix.json`

Each lane defines:
- compose service id
- expected compose profiles
- expected build context
- required artifacts
- smoke gate command
- capability labels used for release traceability

## Required Gates
- `tools/ci/check_v1_4_0_toybox_lifespan_readiness.py`
- `tools/ci/check_v1_4_0_sonic_docker_smoke.py`
- `tools/ci/check_v1_4_0_groovebox_docker_smoke.py`
- `tools/ci/check_v1_4_0_compose_profile_matrix.py`
- `tools/ci/check_v1_4_0_container_capability_matrix.py`
- `tools/ci/check_v1_4_0_release_preflight.py`

## Automation Outputs
- `memory/reports/v1_4_0_compose_profile_matrix.json`
- `memory/reports/v1_4_0_container_capability_matrix.json`
- `memory/reports/v1_4_0_release_preflight.json`

## Release Finalization Policy
v1.4.0 release finalization is blocked unless:
1. all required gates pass,
2. release preflight report status is `ok`,
3. PD and PR release draft docs reference the generated report artifacts.
