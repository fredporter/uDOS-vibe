# v1.4.0 Execution Order

## Purpose
Define a deterministic implementation order for remaining Core v1.4.0 items with minimal regression risk.

## Ordered Plan
1. **TOYBOX lifecycle migration readiness gate**
   - Add CI check ensuring adapter startup/shutdown hooks are lifespan-ready.
   - Keep existing v1.3 freeze/stabilization gates active.
2. **Sonic Screwdriver Dockerfile + smoke**
   - Implement container build definition.
   - Add smoke command validation in CI.
3. **Songscribe/Groovebox Dockerfile + smoke**
   - Implement container build definition.
   - Add smoke command validation in CI.
4. **Compose profile matrix validator**
   - Add script to verify required `docker compose --profile` combinations.
   - Fail on missing services, startup failures, or profile drift.
5. **Library manager command completion (`LIBRARY sync/status`)**
   - Implement command surfaces and route/service wiring.
   - Add tests for command output and failure paths.
6. **Residual modularization cleanup**
   - Address any remaining long-route and nested-handler residue introduced by new v1.4 changes.

## Gating Policy During v1.4 Work
Run these guardrails on every milestone slice:
- `tools/ci/check_v1_3_25_contract_freeze.py`
- `tools/ci/check_v1_3_26_final_stabilization.py`
- `tools/ci/check_v1_3_26_capability_matrix_signoff.py`
- `tools/ci/check_v1_3_26_debug_round_final.py`

## Exit Criteria
- All six ordered items complete with CI coverage.
- No regressions in frozen v1.3.x contract surfaces.
- v1.4 containerization profile matrix stable and repeatable.
